[gd_scene load_steps=18 format=3 uid="uid://116vy10330xu"]

[ext_resource type="Script" uid="uid://dnr7dqt4pv301" path="res://System/Global.gd" id="1_6dhlr"]
[ext_resource type="Texture2D" uid="uid://wt3spjqvxh2i" path="res://Assets/Levels/Metal Habor/Metal Habor Level.png" id="2_v2lpe"]
[ext_resource type="PackedScene" uid="uid://d347acmpjxgth" path="res://Objects/Enemy/Platform Enemy/Neo metal dummy.tscn" id="3_55ngp"]
[ext_resource type="PackedScene" uid="uid://bhs56p25jd75p" path="res://Assets/Objects/Rings/Default Ring/RingDefault.tscn" id="4_8b3wp"]
[ext_resource type="PackedScene" uid="uid://b5g8whnk3l4pb" path="res://Assets/Objects/Rings/Item Bubble (Rings)/RingItemBubble.tscn" id="5_xtlnx"]
[ext_resource type="Script" uid="uid://5k7vyekxyjat" path="res://Assets/Objects/Rings/ring_path_follow_2d.gd" id="6_al8gi"]
[ext_resource type="Script" uid="uid://dn8qv1y3cs4hd" path="res://Assets/Objects/Rings/ring_remote_transform_2d.gd" id="7_wywvs"]
[ext_resource type="PackedScene" uid="uid://cntx067epfcq" path="res://Assets/Objects/Speed Objectss/Spring Jump/spring_jump.tscn" id="8_8mwr5"]
[ext_resource type="PackedScene" uid="uid://hcj4og723t10" path="res://Assets/Objects/Speed Objectss/Dash Panel/Dash_Panel.tscn" id="9_3wkli"]
[ext_resource type="PackedScene" uid="uid://ceidt1mb1tbxe" path="res://Assets/Objects/Speed Objectss/Dash Pad/dash_pad_right.tscn" id="10_jsskw"]
[ext_resource type="Texture2D" uid="uid://c0wjtb64dng2k" path="res://icon.svg" id="11_sdsxl"]
[ext_resource type="AudioStream" uid="uid://cj0sp6s4o5eht" path="res://Assets/Levels/I-Am...-All-Of-Me.mp3" id="12_oqb7r"]
[ext_resource type="PackedScene" uid="uid://bl85r33evh8yh" path="res://Objects/Enemy/Combat Enemy/enemy_test.tscn" id="13_ysbpt"]
[ext_resource type="PackedScene" uid="uid://daw8eejnclfbp" path="res://Player/Player.tscn" id="14_5fklp"]

[sub_resource type="Curve2D" id="Curve2D_50pj4"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -1841, -302, 0, 0, 0, 0, -892, -314)
}
point_count = 2

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_pf1lg"]
radius = 50.0
height = 132.0

[sub_resource type="GDScript" id="GDScript_irrfb"]
script/source = "extends Area2D

func _on_body_entered(body: Node2D) -> void:
	if body is Player:
		Global.physics_state = Global.gameplay_state.combat_mode


func _on_body_exited(body: Node2D) -> void:
	if body is Player:
		Global.physics_state = Global.gameplay_state.physics
"

[node name="Node2D" type="Node2D"]
script = ExtResource("1_6dhlr")

[node name="Level" type="Node" parent="."]

[node name="Sprite" type="Sprite2D" parent="."]
position = Vector2(2241, 273)
scale = Vector2(2, 2)
texture = ExtResource("2_v2lpe")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
scale = Vector2(2, 2)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-1121, -137)
polygon = PackedVector2Array(-58, 25, 203, 25, 209, 26, 214, 28, 218.5, 31, 592, 404, 595.5, 407, 599.5, 408.5, 603, 409, 716, 409, 724, 408, 733, 405, 739, 400, 746, 392, 749, 387, 751, 382, 752.5, 377, 753.311, 369.135, 753.5, 366, 753.5, 363, 753.5, 360.5, 754, 362, 754, 363, 769, 363, 768.5, 390.5, 749, 413, 680, 423, 597, 420, 206, 36, -59, 38)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-1121, -137)
polygon = PackedVector2Array(821, 339, 1456, 339, 1459, 337, 1463, 336, 1593, 206, 1597, 203, 1601, 200, 1604, 199, 1608, 198, 1715, 198, 1722, 200, 1729, 203, 1735, 206, 1741, 211.5, 1746, 217, 1751, 226, 1755, 234.5, 1757, 244.5, 1756.5, 269, 1760, 283, 1766, 291, 1772, 298, 1780, 303, 1791, 306, 1809, 306, 1818, 304, 1826, 301, 1833, 296, 1840, 287, 1843, 281, 1846, 270, 1846, 244, 1848, 232, 1850, 226.5, 1852.5, 222, 1856, 217, 1863, 211, 1870, 205, 1883, 199, 1892, 198, 2208.5, 199.5, 2216, 198, 2222, 193.5, 2225.5, 187, 2228.5, 173.5, 2231.5, 161.5, 2232.5, 154, 2233.5, 132, 2235, 162, 2237, 208, 1888, 332, 1451, 355, 823, 354)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-1120, -137)
polygon = PackedVector2Array(2663, 199, 2838, 198, 2845, 201, 2857, 205, 2866, 215, 2871, 221, 2877, 233, 2879, 242, 2879, 619, 2880, 627, 2882, 632, 2885, 639, 2891, 646, 2898, 652, 2906, 656, 2916, 658, 3557, 658, 3563, 657, 3568, 654, 3633, 588, 3642, 597, 3582, 658, 3570, 669, 3560, 673, 2906, 672, 2895, 669, 2884, 663, 2874, 652, 2866, 635, 2864, 628, 2864, 258, 2863, 245, 2858, 230, 2846, 219, 2833, 213, 2815, 213, 2685, 212, 2674, 211, 2662, 208)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-1120.5, -137)
polygon = PackedVector2Array(1310, 73, 1417, 73, 1424, 71, 1430, 64, 1673, -179, 1677, -182, 1682, -184, 1688, -185, 1785, -185, 1792, -186, 1799, -190, 1804, -194, 1810, -201, 1814, -206, 1816, -214, 1818, -223, 1818, -246, 1820, -256, 1824, -266, 1829, -274, 1838, -283, 1847, -288, 1859, -292, 2157, -292, 2162, -293, 2167, -295, 2299, -427, 2302, -429, 2306, -431, 2310, -433, 2663, -433, 2668, -432, 2672, -430, 2675, -428, 2807, -296, 2810, -294, 2814, -293, 2821, -292, 2918, -292, 2941, -292, 2952, -287, 2962, -282, 2973, -272, 2977, -266, 2980, -258, 2982, -249, 2982, 475, 2982, 487, 2984, 494, 2989, 503, 2993, 508, 2999, 513, 3004, 517, 3010, 519, 3017, 520, 3024.78, 520, 3034, 520, 3034, 534.5, 3007, 535, 2998, 532, 2989, 528, 2982, 521, 2974, 514, 2970, 502, 2966, 491, 2967, -240, 2965, -250, 2962, -257, 2957, -263, 2951, -269, 2942, -274, 2934, -276, 2924, -277, 2816, -277, 2810, -278, 2804, -280, 2667, -417, 2309, -418, 2172, -281, 2161, -277, 1878, -277, 1857, -275, 1845, -267, 1836, -255, 1832, -238, 1833, -220, 1832, -209, 1827, -194, 1818, -183, 1808, -174, 1792, -170, 1757, -168, 1682, -169, 1430, 84, 1419, 87, 1311, 87)

[node name="Node2D" parent="." instance=ExtResource("3_55ngp")]
position = Vector2(443, -300)

[node name="Node2D5" parent="." instance=ExtResource("3_55ngp")]
position = Vector2(-905, 35)

[node name="Node2D4" parent="." instance=ExtResource("3_55ngp")]
position = Vector2(-1670, 1374)

[node name="Node2D3" parent="." instance=ExtResource("3_55ngp")]
position = Vector2(673, -448)

[node name="Node2D2" parent="." instance=ExtResource("3_55ngp")]
position = Vector2(466, -531)

[node name="RingArea" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-519, 58)

[node name="RingArea2" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-448, 57)

[node name="RingArea3" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-381, 54)

[node name="RingArea4" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-299, 54)

[node name="RingArea5" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-233, 39)

[node name="RingArea6" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-165, 21)

[node name="RingArea7" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-101, -1)

[node name="RingArea8" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-29, -32)

[node name="RingArea9" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(45, -71)

[node name="RingArea10" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(103, -127)

[node name="RingArea11" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(177, -176)

[node name="RingArea12" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1836, -301)

[node name="RingArea13" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1799, -302)

[node name="RingArea14" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1760, -302)

[node name="RingArea15" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1720, -303)

[node name="RingArea16" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1680, -304)

[node name="RingArea17" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1639, -304)

[node name="RingArea18" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1601, -304)

[node name="RingArea19" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1560, -305)

[node name="RingArea20" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1521, -305)

[node name="RingArea21" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1482, -306)

[node name="RingArea22" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1442, -306)

[node name="RingArea23" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1402, -307)

[node name="RingArea24" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1362, -308)

[node name="RingArea25" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1323, -308)

[node name="RingArea26" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1287, -309)

[node name="RingArea27" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1244, -309)

[node name="RingArea28" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1207, -310)

[node name="RingArea29" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1164, -311)

[node name="RingArea30" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1124, -311)

[node name="RingArea31" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1084, -311)

[node name="RingArea32" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1045, -312)

[node name="RingArea33" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-1007, -313)

[node name="RingArea34" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-966, -313)

[node name="RingArea35" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-926, -314)

[node name="RingArea36" parent="." instance=ExtResource("4_8b3wp")]
position = Vector2(-887, -315)

[node name="Area2D" type="Area2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Area2D"]
polygon = PackedVector2Array(2237, 38, 2237, -246, 2242, -256, 3075, -256, 3079, -253, 3084, 49, 3195, 43, 3201, -303, 3194, -331, 3178, -356, 3152, -371, 3129, -374, 2180, -374, 2149, -365, 2132, -351, 2121, -333, 2115, -296, 2124, 42)

[node name="Node2D6" parent="." instance=ExtResource("5_xtlnx")]
position = Vector2(-580, -173)

[node name="Node2D7" parent="." instance=ExtResource("5_xtlnx")]
position = Vector2(35, 214)

[node name="RingPath2" type="Path2D" parent="."]
curve = SubResource("Curve2D_50pj4")

[node name="RingPathFollow2D" type="PathFollow2D" parent="RingPath2"]
position = Vector2(-1841, -302)
rotation = -0.0126442
loop = false
script = ExtResource("6_al8gi")

[node name="RingRemoteTransform2D" type="RemoteTransform2D" parent="RingPath2/RingPathFollow2D"]
script = ExtResource("7_wywvs")

[node name="Activate Path" type="Area2D" parent="RingPath2"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="RingPath2/Activate Path"]
position = Vector2(-1853, -301)
shape = SubResource("CapsuleShape2D_pf1lg")

[node name="Spring Jump" parent="." instance=ExtResource("8_8mwr5")]
position = Vector2(353, 386)

[node name="DashPanelV2" parent="." instance=ExtResource("9_3wkli")]
position = Vector2(2198, -303)
rotation = 1.57079

[node name="DashPanel" parent="." instance=ExtResource("9_3wkli")]
position = Vector2(2179, -24)

[node name="Dash_Pad" parent="." instance=ExtResource("10_jsskw")]
position = Vector2(3685, 1027)

[node name="Dash_Pad" parent="Dash_Pad" instance=ExtResource("10_jsskw")]
position = Vector2(594, 0)

[node name="Dash_Pad" parent="Dash_Pad/Dash_Pad" instance=ExtResource("10_jsskw")]
position = Vector2(644, -43)
rotation = -0.785397

[node name="Dash_Pad2" parent="Dash_Pad/Dash_Pad" instance=ExtResource("10_jsskw")]
position = Vector2(-1137, -918)
dash_pad_intensity = 1000.0

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(-2493.36, -409.613)
scale = Vector2(9.38501, 4.27167)
texture = ExtResource("11_sdsxl")

[node name="Area2D2" type="Area2D" parent="."]
position = Vector2(-2493.36, -409.613)
scale = Vector2(9.38501, 4.27167)
script = SubResource("GDScript_irrfb")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Area2D2"]
polygon = PackedVector2Array(-64.0383, -51.7362, -59.1368, -59.4615, -52.8502, -63.2071, 53.383, -63.6753, 58.7106, -59.6956, 62.5465, -54.7795, 63.9317, -50.5657, 64.1448, 51.0339, 61.5875, 56.6523, 58.391, 61.3343, 49.8667, 64.3776, -50.6126, 64.6117, -55.6206, 61.8025, -61.0548, 56.4182, -63.8252, 49.6293)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("12_oqb7r")
volume_db = -34.379
playback_type = 1
parameters/looping = true

[node name="DashPanelV3" parent="." instance=ExtResource("9_3wkli")]
position = Vector2(3137, -287)
rotation = 3.14158

[node name="EnemyTest" parent="." instance=ExtResource("13_ysbpt")]
z_index = 1
y_sort_enabled = true
position = Vector2(-2172, -336)

[node name="Player" parent="." instance=ExtResource("14_5fklp")]
y_sort_enabled = true
position = Vector2(-1844, -282)
speed_charge_max = 1500.0
speed_charge_acc = 135.0

[connection signal="body_entered" from="Area2D" to="." method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="Area2D" to="." method="_on_area_2d_body_exited"]
[connection signal="body_entered" from="RingPath2/Activate Path" to="RingPath2/RingPathFollow2D" method="_on_activate_path_body_entered"]
[connection signal="body_exited" from="RingPath2/Activate Path" to="RingPath2/RingPathFollow2D" method="_on_activate_path_body_exited"]
[connection signal="body_entered" from="Area2D2" to="Area2D2" method="_on_body_entered"]
[connection signal="body_exited" from="Area2D2" to="Area2D2" method="_on_body_exited"]

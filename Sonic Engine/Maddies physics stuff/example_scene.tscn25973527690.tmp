[gd_scene load_steps=17 format=3 uid="uid://o0rbsha836tg"]

[ext_resource type="PackedScene" uid="uid://bea558noe02pm" path="res://Assets/Player/player.tscn" id="1_q8hoo"]
[ext_resource type="Script" uid="uid://dnr7dqt4pv301" path="res://Global.gd" id="1_uq5n0"]
[ext_resource type="PackedScene" uid="uid://d347acmpjxgth" path="res://Neo metal dummy.tscn" id="3_oebfb"]
[ext_resource type="Script" uid="uid://dlmt3523yrqte" path="res://Maddies physics stuff/path_follow_2d.gd" id="4_4d4pi"]
[ext_resource type="Texture2D" uid="uid://dw7bo3lf3npfp" path="res://Assets/Neo metal dummy/Homing Attack sprite.png" id="6_ojq0h"]
[ext_resource type="Script" uid="uid://gr283iamw7vn" path="res://Maddies physics stuff/remote_transform_2d.gd" id="6_pvwt8"]
[ext_resource type="Script" uid="uid://5k7vyekxyjat" path="res://Maddies physics stuff/ring_path_follow_2d.gd" id="7_pvwt8"]
[ext_resource type="Script" uid="uid://dn8qv1y3cs4hd" path="res://Maddies physics stuff/ring_remote_transform_2d.gd" id="8_62vkk"]
[ext_resource type="PackedScene" uid="uid://bhs56p25jd75p" path="res://RingDefault.tscn" id="9_dkxqa"]

[sub_resource type="GDScript" id="GDScript_5xkhi"]
script/source = "extends CollisionPolygon2D


func _ready():
	$Polygon2D.polygon = polygon
"

[sub_resource type="Gradient" id="Gradient_i5p7x"]
colors = PackedColorArray(0, 0, 0, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ugfom"]
gradient = SubResource("Gradient_i5p7x")

[sub_resource type="Curve2D" id="Curve2D_oebfb"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 581, 12, 0, 0, 0, 0, 960, 19, 0, 0, 0, 0, 1111, -121, 0, 0, 0, 0, 1240, -153, 0, 0, 0, 0, 1394, -150)
}
point_count = 5

[sub_resource type="CircleShape2D" id="CircleShape2D_4d4pi"]
radius = 90.1965

[sub_resource type="CircleShape2D" id="CircleShape2D_pvwt8"]
radius = 19.0263

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_62vkk"]
radius = 34.0
height = 159.9

[node name="Node2D" type="Node2D"]
script = ExtResource("1_uq5n0")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
scale = Vector2(0.75, 0.75)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(266, 65, 149, 78, 48, 104, 2, 123, -33, 151, -47, 177, -54.6667, 201.333, -62.6667, 250.667, -62.6667, 322.667, -50, 386, -32, 416, 23, 445, 72, 480, 114, 514, 170.667, 544, 234.667, 554.667, 512, 554.667, 576, 544, 629.333, 522.667, 661.333, 490.667, 672, 448, 672, 373.333, 768, 373.333, 768, 309.333, 842.667, 309.333, 842.667, 373.333, 850.667, 442.667, 876, 481.333, 912, 504, 960, 512, 1008, 504, 1056, 480, 1080, 440, 1088, 376, 1088, 256, 1216, 256, 2549.33, 256, 2549.33, 320, 2570.67, 320, 3072, 256, 2570.67, 256, 2570.67, 192, 3072, 192, 2602.67, 117.333, 2474.67, 117.333, 2474.67, 192, 2165.33, 192, 2165.33, 149.333, 2218.67, 149.333, 2218.67, 42.6667, 2464, 42.6667, 2522.67, 37.3333, 2588, 24, 2652, -1.33333, 2710.67, -33.3333, 2794.67, -61.3333, 2880, -64, 2933.33, -56, 2986.67, -38.6667, 3045.33, -5.33333, 3088, 29.3333, 3124, 76, 3149.33, 128, 3166.67, 198.667, 3172, 282.667, 3176, 396, 3196, 466.667, 3214.67, 501.333, 3242.67, 537.333, 3273.33, 557.333, 3317.33, 565.333, 3374.67, 564, 3414.67, 552, 3450.67, 525.333, 3470.67, 485.333, 3477.33, 416, 3477.33, 170.667, 3520, 170.667, 3605.33, 160, 3669.33, 138.667, 3712, 96, 3712, 53.3333, 3754.67, 53.3333, 3840, 85.3333, 3925.33, 96, 4181.33, 96, 4266.67, 53.3333, 4266.67, 10.6667, 4480, 10.6667, 4522.67, -10.6667, 4522.67, -53.3333, 4842.67, -53.3333, 4864, -64, 4864, -106.667, 5205.33, -106.667, 5226.67, -112, 5226.67, -170.667, 5376, -170.667, 5589.33, -170.667, 5685.33, -180, 5756, -201.333, 5826.67, -230.667, 5948, -264, 6058.67, -288, 6144, -298.667, 6229.33, -298.667, 6314.67, -277.333, 6570.67, -170.667, 6638.67, -160, 6713.33, -160, 6785.33, -168, 6841.33, -188, 6874.67, -230.667, 6892, -286.667, 6894.67, -341.333, 6881.33, -394.667, 6862.67, -437.333, 6820, -466.667, 6774.67, -488, 6734.67, -496, 6784, -522.667, 6997.33, -522.667, 7082.67, -416, 7082.67, -522.667, 7168, -522.667, 7168, -832, 7349.33, -320, 7028, -236, 6869.33, -53.3333, 6453.33, -42.6667, 6308, -134.667, 6117.33, -140, 5888, -21.3333, 4522.67, 416, 4192, 565.333, 3053.33, 661.333, 2773.33, 501.333, 2538.67, 384, 2424, 280, 2288, 352, 2104, 280, 1872, 304, 1712, 280, 1664, 496, 1608, 272, 1392, 312, 1216, 768, 832, 768, 0, 768, -320, 344, -120, -32, -204, -64, -160, -213, -352, -213.333, -341.333, -1792, -170.667, -1792, 0, -554.667, -170.667, -554.667, -170.667, -448, -164, -404, -146.667, -368, -114.667, -340, -76, -321.333, -29.3333, -312, 64, -309.333, 320, -309.333, 357.333, -297.333, 389.333, -266.667, 421.333, -226.667, 445.333, -176, 480, -141.333, 538.667, -118.667, 602.667, -130.667, 553.333, -78.6667, 320, -88, 320, -181.333, 320, -224, 277.333, -224, 64, -224, 0, -224, -30, -217, -66, -186, -84, -156, -91, -109, -74, -73, -48, -51, -14, -40, 40, -32, 208, -32, 336, -24, 405, -21, 456, -18, 509, -5, 550.667, 12, 578.667, 40, 593.333, 64, 601.333, 101.333, 604, 145.333, 600, 194.667, 592, 242.667, 564, 290.667, 514.667, 330.667, 455, 354, 375, 369, 287, 366, 205, 349, 156, 329, 141, 315, 128, 294.667, 122.667, 269.333, 126.667, 241.333, 146.667, 220, 166.667, 212, 197.333, 213.333, 224, 221.333, 249.333, 233.333, 270.667, 253.333, 286.667, 274.667, 318.667, 300, 360, 317.333, 408, 320, 440, 312, 461, 298, 484, 252, 489, 204, 480, 152, 456, 116, 419, 88, 360, 72)
script = SubResource("GDScript_5xkhi")

[node name="Polygon2D" type="Polygon2D" parent="StaticBody2D/CollisionPolygon2D"]
texture = SubResource("GradientTexture2D_ugfom")
polygon = PackedVector2Array(83, 17, 46, 61, 19, 3)
uv = PackedVector2Array(83, 17, 46, 61, 19, 3)

[node name="Sonic" parent="." instance=ExtResource("1_q8hoo")]
position = Vector2(69.9999, -47)
rotation = 0.0184676

[node name="Camera2D" type="Camera2D" parent="Sonic"]
position = Vector2(96, -24)
zoom = Vector2(2, 2)
position_smoothing_speed = 15.0

[node name="Node2D" parent="." instance=ExtResource("3_oebfb")]
position = Vector2(1927, -155)

[node name="Node2D3" parent="." instance=ExtResource("3_oebfb")]
position = Vector2(1628, -95)

[node name="Node2D4" parent="." instance=ExtResource("3_oebfb")]
position = Vector2(1051, 82)

[node name="Node2D2" parent="." instance=ExtResource("3_oebfb")]
position = Vector2(1269, -6)

[node name="RailPath" type="Path2D" parent="."]
curve = SubResource("Curve2D_oebfb")

[node name="RailPathFollow2D" type="PathFollow2D" parent="RailPath"]
position = Vector2(581, 12)
rotation = 0.0184676
loop = false
script = ExtResource("4_4d4pi")

[node name="RailRemoteTransform2D" type="RemoteTransform2D" parent="RailPath/RailPathFollow2D"]
script = ExtResource("6_pvwt8")

[node name="CanHomingAttack" type="Area2D" parent="RailPath"]
position = Vector2(0, -0.949989)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RailPath/CanHomingAttack"]
modulate = Color(0, 0, 0, 1)
self_modulate = Color(1, 0.137255, 0, 1)
light_mask = 2
position = Vector2(580, 11)
shape = SubResource("CircleShape2D_4d4pi")

[node name="ActivatePath" type="Area2D" parent="RailPath"]
position = Vector2(0, -0.949989)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RailPath/ActivatePath"]
position = Vector2(580, 12)
shape = SubResource("CircleShape2D_pvwt8")

[node name="RailAim" type="Sprite2D" parent="RailPath"]
position = Vector2(580, 10.05)
scale = Vector2(0.1, 0.1)
texture = ExtResource("6_ojq0h")
region_enabled = true
region_rect = Rect2(360.5, 29.75, 359.5, 321.5)

[node name="RingPath" type="Path2D" parent="."]
position = Vector2(2118, -25)
curve = SubResource("Curve2D_oebfb")

[node name="RingPathFollow2D" type="PathFollow2D" parent="RingPath"]
position = Vector2(581, 12)
rotation = 0.0184676
loop = false
script = ExtResource("7_pvwt8")

[node name="RingRemoteTransform2D" type="RemoteTransform2D" parent="RingPath/RingPathFollow2D"]
script = ExtResource("8_62vkk")

[node name="ActivatePath" type="Area2D" parent="RingPath"]
position = Vector2(0, -0.949989)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RingPath/ActivatePath"]
position = Vector2(580, 12)
shape = SubResource("CapsuleShape2D_62vkk")

[node name="RingArea" parent="." instance=ExtResource("9_dkxqa")]
position = Vector2(169, -34)

[node name="RingArea2" parent="." instance=ExtResource("9_dkxqa")]
position = Vector2(203, -35)

[node name="RingArea3" parent="." instance=ExtResource("9_dkxqa")]
position = Vector2(238, -34)

[connection signal="body_entered" from="RailPath/CanHomingAttack" to="RailPath/RailPathFollow2D" method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="RailPath/CanHomingAttack" to="RailPath/RailPathFollow2D" method="_on_can_homing_attack_body_exited"]
[connection signal="body_entered" from="RailPath/ActivatePath" to="RailPath/RailPathFollow2D" method="_on_activate_path_body_entered"]
[connection signal="body_entered" from="RingPath/ActivatePath" to="RingPath/RingPathFollow2D" method="_on_activate_path_body_entered"]
